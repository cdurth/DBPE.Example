{
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information"
      }
    },
    "WriteTo": [
      {
        "Name": "Console"
      },
      {
        "Name": "File",
        "Args": {
          "path": "./logs/dbpe-example-.log",
          "rollingInterval": "Day"
        }
      }
    ]
  },
  "DBPE": {
    "Database": {
      "Provider": "SqlServer",
      "ConnectionString": "Server=localhost;Database=DBPE_Example;User Id=sa;Password=YOUR_PASSWORD_HERE;TrustServerCertificate=true;MultipleActiveResultSets=true;",
      "DefaultCommandTimeout": 30,
      "ConnectionPool": {
        "MaxPoolSize": 100,
        "MinPoolSize": 5,
        "ConnectionTimeout": 15,
        "ConnectionLifetime": 300
      }
    },
    "Messaging": {
      "Transport": "SqlServer",
    "ServiceName": "dbpe-example-service",
    "ErrorHandling": {
      "Mode": "Advanced",
      "EnableDetailedLogging": true,
      "RetryAttempts": 3,
      "RetryDelaySeconds": 5,
      "SimpleOptions": {
        "MaxRetries": 3,
        "BackoffMultiplier": 2.0,
        "InitialDelaySeconds": 1,
        "MaxDelaySeconds": 30
      },
      "AdvancedOptions": {
        "MaxRetries": 5,
        "BackoffMultiplier": 2.0,
        "InitialDelaySeconds": 1,
        "MaxDelaySeconds": 60,
        "EnableCircuitBreaker": true,
        "CircuitBreakerThreshold": 3,
        "CircuitBreakerResetSeconds": 60,
        "EnableDeadLetterQueue": true,
        "DeadLetterQueueName": "errors",
        "EnablePoisonMessageHandling": true,
        "PoisonMessageThreshold": 3
      }
    },
      "Persistence": {
        "Provider": "SqlServer",
        "EnableMessageTracking": true,
        "EnableSchemaValidation": true,
        "EnableDynamicSchemas": true,
        "TrackingRetentionDays": 30,
        "EnableDetailedLogging": true
      }
    }
  },
  "FileWatchers": {
    "InvoiceFileWatcher": {
      "WatchPath": "./WatchedFiles/Invoices",
      "Filter": "*.json",
      "IncludeSubdirectories": false,
      "ProcessedPath": "./ProcessedInvoices"
    },
    "OrderFileWatcher": {
      "WatchPath": "./WatchedFiles/Orders",
      "Filter": "*.json",
      "IncludeSubdirectories": false,
      "ProcessedPath": "./ProcessedOrders"
    }
  },
  "WebHooks": {
    "BaseUrl": "http://localhost:5000",
    "Endpoints": {
      "Payment": "/webhooks/payment"
    },
    "Security": {
      "RequireApiKey": true,
      "ApiKeyHeader": "X-API-Key",
      "AllowBearerToken": true,
      "ApiKeys": {
        "stripe-production": {
          "Key": "whk_stripe_prod_12345abcdef",
          "Name": "Stripe Production Webhooks",
          "AllowedPaths": ["payment/stripe", "payment/refund"],
          "IsEnabled": true,
          "ExpiresAt": null
        },
        "internal-systems": {
          "Key": "whk_internal_abcdef67890",
          "Name": "Internal Systems",
          "AllowedPaths": ["*"],
          "IsEnabled": true,
          "ExpiresAt": null
        },
        "test-key": {
          "Key": "whk_test_123456789",
          "Name": "Test Key",
          "AllowedPaths": ["payment/stripe", "secured/notification"],
          "IsEnabled": true,
          "ExpiresAt": null
        }
      }
    },
    "Correlation": {
      "Enabled": true,
      "PersistenceProvider": "SqlServer",
      "CompletionCallbackEnabled": true,
      "CompletionCallbackTimeoutSeconds": 30,
      "CompletionCallbackMaxRetries": 3,
      "CleanupIntervalMinutes": 60,
      "RetentionDays": 7
    }
  },
  "WebServer": {
    "UseHttps": false,
    "Host": "localhost",
    "Port": 5000
  }
}